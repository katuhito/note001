## ラズパイ3が遅い？
### ～古い機材を“数値で切り分ける”思考法～
***

はじめに

Raspberry Pi 3 を触っていて、こう思った。

「なんか、もっさりしている。」

でもここで大事なのは、

遅い＝買い替え

ではない。

まずやるべきは、

“どこが遅いのか”を数値で切り分けること。

この記事では、

ラズパイ3を題材に、

古い機材を感覚ではなく“構造と数値”で分析する方法を紹介する。

※：Windows11からSSH接続している環境での話です。

***

## ステップ1：感覚を疑う

最初に疑ったのはCPUだった。

「2016年の機械だし、非力なのでは？」

しかし思い込みは危険だ。

まず測る。

***

## ステップ2：CPUを確認する

温度確認

```
vcgencmd measure_temp
```

CPUクロック確認

```
vcgencmd measure_clock arm
```
メモリ確認
```
free -h
```
ここで分かるのは、

- 温度が高すぎないか
- クロックが落ちていないか
- メモリが枯渇していないか

私の環境ではすべて正常。

つまり、

**CPUは犯人ではない。**

***

## ステップ3：ネットワークを疑う

#Photo1

次に疑ったのは通信。

ラズパイ3の構造はこうだ。
```
CPU

↓

USB2.0（共有バス）

↓

LAN（最大100Mbps）
```
つまり理論上限は約100Mbps。

測定する。

```
sudo apt install iperf3
```
```
iperf3 -c PCのIPアドレス
```

結果：約94Mbps。

これはほぼ理論値。

つまり、

**ネットワークも犯人ではない。**

***

## ステップ4：ストレージを疑う

最後に残ったのがSDカード。

```
sudo apt install hdparm
```
```
sudo hdparm -Tt /dev/mmcblk0
```

結果：約22MB/s。

ここで見えてくる。

ラズパイは

小さなファイルを大量に読む。

ランダムI/Oが遅いと、

「一瞬止まる」感覚が発生する。

つまり、

体感の“もっさり”の正体はI/O待ち。

ここまでの切り分け結果

CPU：正常

ネットワーク：正常

SDカード：世代的に遅い

結論：

壊れているのではない。
2016年の性能で動いているだけ。

改善は“最後”に考える

切り分けが終わって初めて、

改善策を考える。

・不要サービス停止
```
sudo systemctl disable bluetooth
```

・GUI停止
```
sudo systemctl set-default multi-user.target
```

・GPUメモリ削減
```
sudo raspi-config
```

- A1規格以上のSDカードに交換

重要なのは、

順番を間違えないこと。

Pi4との違いから学べること

Pi4では構造が変わっている。

```
CPU

↓

ネイティブGigabit LAN

↓

USB3.0

↓

最大8GBメモリ
```

Pi4が速いのは、気合ではなく構造。

ここから学べるのは、

性能差は“設計思想の差”だということ。

この思考法の価値

今回やったのはラズパイのチューニングではない。

やったのは、

思い込みを捨てる

数値で確認する

ボトルネックを特定する

最後に改善する

この順番。

これは、

-古いPC
- 中古サーバー
- 自動車
- ネットワーク機器

すべてに応用できる。

まとめ

ラズパイ3が遅い。

そう感じたら、買い替える前にやることがある。

感覚ではなく、数値で切り分ける。

犯人を特定してから動く。

古い機材は、

壊れているのではなく、“構造通りに動いている”だけかもしれない。

***